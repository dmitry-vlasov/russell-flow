import net/url_parameter;
import ru_println;
import ru_conf;

export {
	ruUsage(conf : RuConf) -> void {
		prih = \line -> if (lookupTreeDef(conf.opts, "help", "0") == "1") ruPrintln(line, conf);
		pri  = \line -> ruPrintln(line, conf);
		pri ("Usage: russell [opts] file");
		pri ("    file=<name>         another way to setup a file");
		pri ("    help=1              print a help");
		prih("    verbose=[1,2,3]     non-silent mode");
		prih("    cache-dir=<dir>     use a specified dir for cache files.");
		prih("    caching=0           switch off caching.");
		prih("    locate=1            print a Russell installation directory.");
		prih("");
		prih("    mm=<file.mm>        output to Metamath file");
		prih("    mm-ascii=1          keep ASCII symbols from Metamath");
		prih("    mm-fix=1            make all grammar rules start with terminal symbol");
		prih("    mm-strip=1          strip comments from Metamath sources");
		prih("    mm-split=1          split source into a tree according to the formatted comments");
		prih("    mm-2-ru=1           translate from Metamath to Russell");
		prih("    mm-stats=1          show Metamath math statistics");
		prih("");
		prih("    ru=<file.ru>        output to a single Russell file");
		prih("    ru-write-all=1      Overwrite all Russell files");
		prih("    ru-write=<file>     Overwrite a given Russell file");
		prih("    ru-root=<dir>       Russell sources root directory");
		prih("    ru-2-mm=1           translate from Russell to Metamath");
		prih("    ru-stats=1          show Russell math statistics");
		prih("");
		prih("    server=<http|lsp>   Run appropriate server");
		prih("    shutdown-server=1   Shutdown a server");
	}
}
