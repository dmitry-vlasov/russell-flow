import string;
import lingo/compiler/syntaxtree_types;
import base/html/ast_mnemonics;

export {
	parse_html_source(t : string) -> Pair<SyntaxTree, ExpectError>;
}

parse_html_source(t : string) -> Pair<SyntaxTree, ExpectError> {
	acc = SyntaxParseAcc(t, strlen(t), 0, [], noExpectError);
	r = do_parse_html_source_html_source(acc);
	Pair(r, acc.expect);
}
do_parse_html_source_html_source(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_ws(acc);
	if (c0.choice != -1) {
		c1 = SyntaxStar(acc, do_parse_html_source_html_element);
		SyntaxTree(st_html_source, 0, i, acc.i, [[c0], c1]);
	} else c0
}

do_parse_html_source_html_element(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_entity(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			c0 = do_parse_html_source_html_tag(acc);
			if (c0.choice != -1) {
				c0
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				c0 = do_parse_html_source_html_comment(acc);
				if (c0.choice != -1) {
					c0
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				acc.i ::= i;
				r3 = {
					c0 = do_parse_html_source_html_text(acc);
					if (c0.choice != -1) {
						c0
					} else failSyntaxTree;
				}
				if (r3 != failSyntaxTree) r3
				else {
					SyntaxTree(st_Expected_html_element, -1, i, i, [])
				}

			}

		}

	}

}

do_parse_html_source_html_text(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = SyntaxPlus(acc, do_parse_html_source_html_text__auto30);
	if (length(c0) >= 1) {
		SyntaxTree(st_html_text, 0, i, acc.i, [c0]);
	} else {
		// "Expected at least one html_text$auto30"
		updateExpectError(acc, "", "html_text$auto30", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_comment(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_comment__auto32(acc);
	if (c0.choice != -1) {
		SyntaxTree(st_html_comment, 0, i, acc.i, [[c0]]);
	} else c0
}

do_parse_html_source_html_entity(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_dec_entity(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			c0 = do_parse_html_source_html_hex_entity(acc);
			if (c0.choice != -1) {
				c0
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				c0 = do_parse_html_source_html_code_entity(acc);
				if (c0.choice != -1) {
					c0
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				SyntaxTree(st_Expected_html_entity, -1, i, i, [])
			}

		}

	}

}

do_parse_html_source_html_dec_entity(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 38 && getCharCodeAt(acc.input, acc.i + 1) == 35 /* &# */) {
		acc.i ::= acc.i + 2;
		c1 = SyntaxPlus(acc, do_parse_html_source_html_dec_digit);
		if (length(c1) >= 1) {
			i2 = acc.i;
			t2 = do_parse_html_source_html_dec_entity__auto33(acc);
			c2 = if (t2.choice == -1) {acc.i ::= i2; [] } else [t2];
			SyntaxTree(st_html_dec_entity, 0, i, acc.i, [c1, c2]);
		} else {
			// "Expected at least one html_dec_digit"
			updateExpectError(acc, "", "html_dec_digit", i);
			failSyntaxTree;
		}
	} else {
		// "Expected '&#'"
		updateExpectError(acc, "", "&#", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_hex_entity(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (strRangeIndexOf(acc.input, "&#x", acc.i, acc.i + 3) == acc.i) {
		acc.i ::= acc.i + 3;
		c1 = SyntaxPlus(acc, do_parse_html_source_html_hex_digit);
		if (length(c1) >= 1) {
			i2 = acc.i;
			t2 = do_parse_html_source_html_hex_entity__auto34(acc);
			c2 = if (t2.choice == -1) {acc.i ::= i2; [] } else [t2];
			SyntaxTree(st_html_hex_entity, 0, i, acc.i, [c1, c2]);
		} else {
			// "Expected at least one html_hex_digit"
			updateExpectError(acc, "", "html_hex_digit", i);
			failSyntaxTree;
		}
	} else {
		// "Expected '&#x'"
		updateExpectError(acc, "", "&#x", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_code_entity(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 38 /* & */) {
		acc.i ::= acc.i + 1;
		c1 = SyntaxPlus(acc, do_parse_html_source_html_letter);
		if (length(c1) >= 1) {
			i2 = acc.i;
			t2 = do_parse_html_source_html_code_entity__auto35(acc);
			c2 = if (t2.choice == -1) {acc.i ::= i2; [] } else [t2];
			SyntaxTree(st_html_code_entity, 0, i, acc.i, [c1, c2]);
		} else {
			// "Expected at least one html_letter"
			updateExpectError(acc, "", "html_letter", i);
			failSyntaxTree;
		}
	} else {
		// "Expected '&'"
		updateExpectError(acc, "", "&", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_tag(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_tag_clopen(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			c0 = do_parse_html_source_html_tag_open(acc);
			if (c0.choice != -1) {
				c0
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				c0 = do_parse_html_source_html_tag_close(acc);
				if (c0.choice != -1) {
					c0
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				SyntaxTree(st_Expected_html_tag, -1, i, i, [])
			}

		}

	}

}

do_parse_html_source_html_tag_clopen(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 60 /* < */) {
		acc.i ::= acc.i + 1;
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			c2 = do_parse_html_source_html_id(acc);
			if (c2.choice != -1) {
				c3 = do_parse_html_source_html_ws(acc);
				if (c3.choice != -1) {
					c4 = SyntaxStar(acc, do_parse_html_source_html_attrib);
					if (getCharCodeAt(acc.input, acc.i) == 47 && getCharCodeAt(acc.input, acc.i + 1) == 62 /* /> */) {
						acc.i ::= acc.i + 2;
						SyntaxTree(st_html_tag_clopen, 0, i, acc.i, [[c1], [c2], [c3], c4]);
					} else {
						// "Expected '/>'"
						updateExpectError(acc, "", "/>", i);
						failSyntaxTree;
					}
				} else c3
			} else c2
		} else c1
	} else {
		// "Expected '<'"
		updateExpectError(acc, "", "<", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_tag_open(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 60 /* < */) {
		acc.i ::= acc.i + 1;
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			c2 = do_parse_html_source_html_id(acc);
			if (c2.choice != -1) {
				c3 = do_parse_html_source_html_ws(acc);
				if (c3.choice != -1) {
					c4 = SyntaxStar(acc, do_parse_html_source_html_attrib);
					if (getCharCodeAt(acc.input, acc.i) == 62 /* > */) {
						acc.i ::= acc.i + 1;
						SyntaxTree(st_html_tag_open, 0, i, acc.i, [[c1], [c2], [c3], c4]);
					} else {
						// "Expected '>'"
						updateExpectError(acc, "", ">", i);
						failSyntaxTree;
					}
				} else c3
			} else c2
		} else c1
	} else {
		// "Expected '<'"
		updateExpectError(acc, "", "<", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_tag_close(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 60 && getCharCodeAt(acc.input, acc.i + 1) == 47 /* </ */) {
		acc.i ::= acc.i + 2;
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			c2 = do_parse_html_source_html_id(acc);
			if (c2.choice != -1) {
				c3 = do_parse_html_source_html_ws(acc);
				if (c3.choice != -1) {
					if (getCharCodeAt(acc.input, acc.i) == 62 /* > */) {
						acc.i ::= acc.i + 1;
						SyntaxTree(st_html_tag_close, 0, i, acc.i, [[c1], [c2], [c3]]);
					} else {
						// "Expected '>'"
						updateExpectError(acc, "", ">", i);
						failSyntaxTree;
					}
				} else c3
			} else c2
		} else c1
	} else {
		// "Expected '</'"
		updateExpectError(acc, "", "</", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_attrib(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_attrib1(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			c0 = do_parse_html_source_html_attrib2(acc);
			if (c0.choice != -1) {
				c0
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				c0 = do_parse_html_source_html_attrib3(acc);
				if (c0.choice != -1) {
					c0
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				acc.i ::= i;
				r3 = {
					c0 = do_parse_html_source_html_attrib4(acc);
					if (c0.choice != -1) {
						c0
					} else failSyntaxTree;
				}
				if (r3 != failSyntaxTree) r3
				else {
					SyntaxTree(st_Expected_html_attrib, -1, i, i, [])
				}

			}

		}

	}

}

do_parse_html_source_html_attrib1(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_id(acc);
	if (c0.choice != -1) {
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			if (getCharCodeAt(acc.input, acc.i) == 61 /* = */) {
				acc.i ::= acc.i + 1;
				c3 = do_parse_html_source_html_ws(acc);
				if (c3.choice != -1) {
					if (getCharCodeAt(acc.input, acc.i) == 39 /* ' */) {
						acc.i ::= acc.i + 1;
						c5 = SyntaxStar(acc, do_parse_html_source_html_attrib1__auto36);
						if (getCharCodeAt(acc.input, acc.i) == 39 /* ' */) {
							acc.i ::= acc.i + 1;
							c7 = do_parse_html_source_html_ws(acc);
							if (c7.choice != -1) {
								SyntaxTree(st_html_attrib1, 0, i, acc.i, [[c0], [c1], [c3], c5, [c7]]);
							} else c7
						} else {
							// "Expected '''"
							updateExpectError(acc, "", "'", i);
							failSyntaxTree;
						}
					} else {
						// "Expected '''"
						updateExpectError(acc, "", "'", i);
						failSyntaxTree;
					}
				} else c3
			} else {
				// "Expected '='"
				updateExpectError(acc, "", "=", i);
				failSyntaxTree;
			}
		} else c1
	} else c0
}

do_parse_html_source_html_attrib2(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_id(acc);
	if (c0.choice != -1) {
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			if (getCharCodeAt(acc.input, acc.i) == 61 /* = */) {
				acc.i ::= acc.i + 1;
				c3 = do_parse_html_source_html_ws(acc);
				if (c3.choice != -1) {
					if (getCharCodeAt(acc.input, acc.i) == 34 /* " */) {
						acc.i ::= acc.i + 1;
						c5 = SyntaxStar(acc, do_parse_html_source_html_attrib2__auto37);
						if (getCharCodeAt(acc.input, acc.i) == 34 /* " */) {
							acc.i ::= acc.i + 1;
							c7 = do_parse_html_source_html_ws(acc);
							if (c7.choice != -1) {
								SyntaxTree(st_html_attrib2, 0, i, acc.i, [[c0], [c1], [c3], c5, [c7]]);
							} else c7
						} else {
							// "Expected '\"'"
							updateExpectError(acc, "", "\"", i);
							failSyntaxTree;
						}
					} else {
						// "Expected '\"'"
						updateExpectError(acc, "", "\"", i);
						failSyntaxTree;
					}
				} else c3
			} else {
				// "Expected '='"
				updateExpectError(acc, "", "=", i);
				failSyntaxTree;
			}
		} else c1
	} else c0
}

do_parse_html_source_html_attrib3(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_id(acc);
	if (c0.choice != -1) {
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			if (getCharCodeAt(acc.input, acc.i) == 61 /* = */) {
				acc.i ::= acc.i + 1;
				c3 = do_parse_html_source_html_ws(acc);
				if (c3.choice != -1) {
					c4 = do_parse_html_source_html_val(acc);
					if (c4.choice != -1) {
						c5 = do_parse_html_source_html_ws(acc);
						if (c5.choice != -1) {
							SyntaxTree(st_html_attrib3, 0, i, acc.i, [[c0], [c1], [c3], [c4], [c5]]);
						} else c5
					} else c4
				} else c3
			} else {
				// "Expected '='"
				updateExpectError(acc, "", "=", i);
				failSyntaxTree;
			}
		} else c1
	} else c0
}

do_parse_html_source_html_attrib4(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_id(acc);
	if (c0.choice != -1) {
		c1 = do_parse_html_source_html_ws(acc);
		if (c1.choice != -1) {
			SyntaxTree(st_html_attrib4, 0, i, acc.i, [[c0], [c1]]);
		} else c1
	} else c0
}

do_parse_html_source_html_dec_digit(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if ({c = getCharCodeAt(acc.input, acc.i); 48 <= c && c <= 57}) {
		acc.i ::= acc.i + 1;
		SyntaxTree(st_html_dec_digit, 0, i, acc.i, []);
	} else {
		// "Expected '0'-'9'"
		updateExpectError(acc, "", "'0'-'9'", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_hex_digit(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_dec_digit(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			if ({c = getCharCodeAt(acc.input, acc.i); 65 <= c && c <= 70}) {
				acc.i ::= acc.i + 1;
				SyntaxTree(st_html_hex_digit, 1, i, acc.i, []);
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				if ({c = getCharCodeAt(acc.input, acc.i); 97 <= c && c <= 102}) {
					acc.i ::= acc.i + 1;
					SyntaxTree(st_html_hex_digit, 2, i, acc.i, []);
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				SyntaxTree(st_Expected_html_hex_digit, -1, i, i, [])
			}

		}

	}

}

do_parse_html_source_html_letter(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		if ({c = getCharCodeAt(acc.input, acc.i); 97 <= c && c <= 122}) {
			acc.i ::= acc.i + 1;
			SyntaxTree(st_html_letter, 0, i, acc.i, []);
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			if ({c = getCharCodeAt(acc.input, acc.i); 65 <= c && c <= 90}) {
				acc.i ::= acc.i + 1;
				SyntaxTree(st_html_letter, 1, i, acc.i, []);
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			SyntaxTree(st_Expected_html_letter, -1, i, i, [])
		}

	}

}

do_parse_html_source_html_id(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_letter(acc);
	if (c0.choice != -1) {
		c1 = SyntaxStar(acc, do_parse_html_source_html_id__choice28);
		SyntaxTree(st_html_id, 0, i, acc.i, [[c0], c1]);
	} else c0
}

do_parse_html_source_html_val(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = SyntaxPlus(acc, do_parse_html_source_html_val__choice29);
	if (length(c0) >= 1) {
		SyntaxTree(st_html_val, 0, i, acc.i, [c0]);
	} else {
		// "Expected at least one html_val$choice29"
		updateExpectError(acc, "", "html_val$choice29", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_s(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = SyntaxPlus(acc, do_parse_html_source_html_ws_);
	if (length(c0) >= 1) {
		SyntaxTree(st_html_s, 0, i, acc.i, []);
	} else {
		// "Expected at least one html_ws_"
		updateExpectError(acc, "", "html_ws_", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_ws(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = SyntaxStar(acc, do_parse_html_source_html_ws_);
	SyntaxTree(st_html_ws, 0, i, acc.i, []);
}

do_parse_html_source_html_ws_(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		if (getCharCodeAt(acc.input, acc.i) == 32 /*   */) {
			acc.i ::= acc.i + 1;
			SyntaxTree(st_html_ws_, 0, i, acc.i, []);
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			if (getCharCodeAt(acc.input, acc.i) == 9 /* 	 */) {
				acc.i ::= acc.i + 1;
				SyntaxTree(st_html_ws_, 1, i, acc.i, []);
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				if (getCharCodeAt(acc.input, acc.i) == 10 /* 
				 */) {
					acc.i ::= acc.i + 1;
					SyntaxTree(st_html_ws_, 2, i, acc.i, []);
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				acc.i ::= i;
				r3 = {
					if (getCharCodeAt(acc.input, acc.i) == 13 /*  */) {
						acc.i ::= acc.i + 1;
						SyntaxTree(st_html_ws_, 3, i, acc.i, []);
					} else failSyntaxTree;
				}
				if (r3 != failSyntaxTree) r3
				else {
					SyntaxTree(st_Expected_html_ws_, -1, i, i, [])
				}

			}

		}

	}

}

do_parse_html_source_html_any(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if ({c = getCharCodeAt(acc.input, acc.i); 0 <= c && c <= 65535}) {
		acc.i ::= acc.i + 1;
		SyntaxTree(st_html_any, 0, i, acc.i, []);
	} else {
		// "Expected ' '-'￿'"
		updateExpectError(acc, "", "' '-'￿'", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_text__choice26(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_letter(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			if (getCharCodeAt(acc.input, acc.i) == 47 /* / */) {
				acc.i ::= acc.i + 1;
				c1 = do_parse_html_source_html_letter(acc);
				if (c1.choice != -1) {
					SyntaxTree(st_html_text__choice26, 1, i, acc.i, [[c1]]);
				} else failSyntaxTree;
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				if (strRangeIndexOf(acc.input, "!--", acc.i, acc.i + 3) == acc.i) {
					acc.i ::= acc.i + 3;
					SyntaxTree(st_html_text__choice26, 2, i, acc.i, []);
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				SyntaxTree(st_Expected_html_text__choice26, -1, i, i, [])
			}

		}

	}

}

do_parse_html_source_html_text__choice27(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		if (getCharCodeAt(acc.input, acc.i) == 60 /* < */) {
			acc.i ::= acc.i + 1;
			c1 = do_parse_html_source_html_text__choice26(acc);
			if (c1.choice != -1) {
				SyntaxTree(st_html_text__choice27, 0, i, acc.i, [[c1]]);
			} else failSyntaxTree;
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			if (getCharCodeAt(acc.input, acc.i) == 38 /* & */) {
				acc.i ::= acc.i + 1;
				c1 = do_parse_html_source_html_s(acc);
				if (c1.choice == -1) {
					SyntaxTree(st_html_text__choice27, 1, i, acc.i, []);
				} else failSyntaxTree;
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			SyntaxTree(st_Expected_html_text__choice27, -1, i, i, [])
		}

	}

}

do_parse_html_source_html_id__choice28(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_letter(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			c0 = do_parse_html_source_html_dec_digit(acc);
			if (c0.choice != -1) {
				c0
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			SyntaxTree(st_Expected_html_id__choice28, -1, i, i, [])
		}

	}

}

do_parse_html_source_html_val__choice29(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	acc.i ::= i;
	r0 = {
		c0 = do_parse_html_source_html_letter(acc);
		if (c0.choice != -1) {
			c0
		} else failSyntaxTree;
	}
	if (r0 != failSyntaxTree) r0
	else {
		acc.i ::= i;
		r1 = {
			c0 = do_parse_html_source_html_dec_digit(acc);
			if (c0.choice != -1) {
				c0
			} else failSyntaxTree;
		}
		if (r1 != failSyntaxTree) r1
		else {
			acc.i ::= i;
			r2 = {
				if (getCharCodeAt(acc.input, acc.i) == 95 /* _ */) {
					acc.i ::= acc.i + 1;
					SyntaxTree(st_html_val__choice29, 2, i, acc.i, []);
				} else failSyntaxTree;
			}
			if (r2 != failSyntaxTree) r2
			else {
				acc.i ::= i;
				r3 = {
					if (getCharCodeAt(acc.input, acc.i) == 45 /* - */) {
						acc.i ::= acc.i + 1;
						SyntaxTree(st_html_val__choice29, 3, i, acc.i, []);
					} else failSyntaxTree;
				}
				if (r3 != failSyntaxTree) r3
				else {
					SyntaxTree(st_Expected_html_val__choice29, -1, i, i, [])
				}

			}

		}

	}

}

do_parse_html_source_html_text__auto30(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_text__choice27(acc);
	if (c0.choice == -1) {
		c1 = do_parse_html_source_html_any(acc);
		if (c1.choice != -1) {
			SyntaxTree(st_html_text__auto30, 0, i, acc.i, [[c1]]);
		} else c1
	} else SyntaxTree(st_DidNotExpecthtml_source_html_text__choice27, -1, 0, acc.i, []);
}

do_parse_html_source_html_comment__auto31(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (strRangeIndexOf(acc.input, "-->", acc.i, acc.i + 3) == acc.i) {
		SyntaxTree(-45, -1, i, i, [])
	} else {
		c1 = do_parse_html_source_html_any(acc);
		if (c1.choice != -1) {
			SyntaxTree(st_html_comment__auto31, 0, i, acc.i, [[c1]]);
		} else c1
	}
}

do_parse_html_source_html_comment__auto32(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (strRangeIndexOf(acc.input, "<!--", acc.i, acc.i + 4) == acc.i) {
		acc.i ::= acc.i + 4;
		c1 = SyntaxStar(acc, do_parse_html_source_html_comment__auto31);
		if (strRangeIndexOf(acc.input, "-->", acc.i, acc.i + 3) == acc.i) {
			acc.i ::= acc.i + 3;
			SyntaxTree(st_html_comment__auto32, 0, i, acc.i, [c1]);
		} else {
			// "Expected '-->'"
			updateExpectError(acc, "", "-->", i);
			failSyntaxTree;
		}
	} else {
		// "Expected '<!--'"
		updateExpectError(acc, "", "<!--", i);
		failSyntaxTree;
	}
}

do_parse_html_source_html_dec_entity__auto33(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_ws(acc);
	if (c0.choice != -1) {
		if (getCharCodeAt(acc.input, acc.i) == 59 /* ; */) {
			acc.i ::= acc.i + 1;
			SyntaxTree(st_html_dec_entity__auto33, 0, i, acc.i, [[c0]]);
		} else {
			// "Expected ';'"
			updateExpectError(acc, "", ";", i);
			failSyntaxTree;
		}
	} else c0
}

do_parse_html_source_html_hex_entity__auto34(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_ws(acc);
	if (c0.choice != -1) {
		if (getCharCodeAt(acc.input, acc.i) == 59 /* ; */) {
			acc.i ::= acc.i + 1;
			SyntaxTree(st_html_hex_entity__auto34, 0, i, acc.i, [[c0]]);
		} else {
			// "Expected ';'"
			updateExpectError(acc, "", ";", i);
			failSyntaxTree;
		}
	} else c0
}

do_parse_html_source_html_code_entity__auto35(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	c0 = do_parse_html_source_html_ws(acc);
	if (c0.choice != -1) {
		if (getCharCodeAt(acc.input, acc.i) == 59 /* ; */) {
			acc.i ::= acc.i + 1;
			SyntaxTree(st_html_code_entity__auto35, 0, i, acc.i, [[c0]]);
		} else {
			// "Expected ';'"
			updateExpectError(acc, "", ";", i);
			failSyntaxTree;
		}
	} else c0
}

do_parse_html_source_html_attrib1__auto36(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 39 /* ' */) {
		SyntaxTree(-39, -1, i, i, [])
	} else {
		c1 = do_parse_html_source_html_any(acc);
		if (c1.choice != -1) {
			SyntaxTree(st_html_attrib1__auto36, 0, i, acc.i, [[c1]]);
		} else c1
	}
}

do_parse_html_source_html_attrib2__auto37(acc : SyntaxParseAcc) -> SyntaxTree {
	i = acc.i;
	if (getCharCodeAt(acc.input, acc.i) == 34 /* " */) {
		SyntaxTree(-34, -1, i, i, [])
	} else {
		c1 = do_parse_html_source_html_any(acc);
		if (c1.choice != -1) {
			SyntaxTree(st_html_attrib2__auto37, 0, i, acc.i, [[c1]]);
		} else c1
	}
}

