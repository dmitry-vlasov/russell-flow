
import formats/lsp;

export {

RuLspServerRequest(
	uuid : string,
	request : LspRequestMessage,
	callback : (LspResponseMessage) -> void
);

RuLspServerState(
	mutable clientConf : LspInitializeParams,
	mutable currId : int,
	mutable requests : Tree<Json, RuLspServerRequest>,
	mutable responded : Set<Json>,
	mutable state : int // 0 - working, 1 - shutdown, 2 - exit
);

ruEmptyLspInitializeParams() -> LspInitializeParams {
	LspInitializeParams("", LspClientInfo("", ""), "", "", "", JsonNull(), JsonNull(), "off", []);
}
}

