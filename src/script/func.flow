import comm;

export {
	RuExecState(
		global : RuState,
		local : Tree<string, ScValue>
	);
	ScriptFn(
		name : string,
		fn : ([ScValue], state : RuExecState, out : RuOut) -> ScValue
	);
	ruNoScriptFn = ScriptFn("", \__,__,__ -> scUndefVal);

	ruExecStateVars(state : RuExecState) -> Tree<string, ScValue>;
}

ruExecStateVars(state : RuExecState) -> Tree<string, ScValue> {
	mergeTree(state.global.vars, state.local);
}