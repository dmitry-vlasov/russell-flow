import comm;

export {
	RuExecState(
		global : RuState,
		local : Tree<string, flow>
	);
	ScriptFn(
		name : string,
		fn : ([flow], state : RuExecState, out : RuOut) -> flow
	);
	ruNoScriptFn = ScriptFn("", \__,__,__ -> RuUndefVal());

	ruExecStateVars(state : RuExecState) -> Tree<string, flow>;
}

ruExecStateVars(state : RuExecState) -> Tree<string, flow> {
	mergeTree(state.global.vars, state.local);
}