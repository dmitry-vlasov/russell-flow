import script/value;

export {
	ruScriptUtilFuncs() -> [Pair<string, ScriptFn>];
}

ruScriptUtilFuncs() -> [Pair<string, ScriptFn>] {
	[
		Pair("cwd", ScriptFn(\args, conf ->
			if (length(args) != 0) None() else {
				Some(ValString(ruCurrentWorkingDir()))
			}
		)),
		Pair("isdef", ScriptFn(\args, conf ->
			if (length(args) != 1) None() else {
				switch (args[0]) {
					ValUndef(): Some(ValBool(false));
					default: Some(ValBool(true));
				}
			}
		)),
		Pair("mem2s", ScriptFn(\args, conf ->
			if (length(args) != 1) None() else {
				switch (args[0]) {
					ValDouble(mem): Some(ValString(memory2s(mem)));
					default: Some(ValUndef());
				}
			}
		)),
	]
}
